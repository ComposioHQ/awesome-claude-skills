---
name: fcontext-context-continuity
description: "Maintain context continuity across AI agent sessions and tools. Persist session knowledge, track requirements, index binary documents, and share domain expertise across teams — all stored locally in .fcontext/. Works with Copilot, Claude Code, Cursor, Trae, and more."
allowed-tools: Bash,Read,Write
---

# fcontext — Context Continuity for AI Agents

Maintain context continuity across AI coding agent sessions and tools. Persist session knowledge to `.fcontext/`, track requirements, convert binary documents to Markdown, and share domain expertise across teams.

**Repository**: [github.com/lijma/agent-skill-fcontext](https://github.com/lijma/agent-skill-fcontext)
**PyPI**: [pypi.org/project/fcontext](https://pypi.org/project/fcontext/)

## When to Use This Skill

- Starting a new session and needing to pick up where the last session left off
- Switching between AI agents (Copilot → Claude → Cursor) without losing context
- Onboarding a new team member whose AI has zero project knowledge
- Working with binary documents (PDF, DOCX, XLSX, PPTX) that AI agents can't read
- Tracking requirements (stories, tasks, bugs) with full evolution history
- Sharing domain knowledge across projects or teams via experience packs

## Prerequisites

- Python 3.9+
- pip

## Setup

1. Install fcontext:
   ```bash
   pip install fcontext
   ```

2. Initialize in your project:
   ```bash
   cd your-project
   fcontext init
   ```

3. Enable your AI agent:
   ```bash
   fcontext enable copilot    # or: claude, cursor, trae, opencode, openclaw
   ```

4. Verify setup:
   ```bash
   fcontext status
   ```

After setup, the agent automatically reads `.fcontext/_README.md` and other structured data at the start of every session.

## Core Workflows

### 1. Cross-Session Context Persistence

The `.fcontext/` directory stores structured knowledge that persists between sessions.

```bash
# AI-maintained project summary — the first thing every session reads
cat .fcontext/_README.md

# Session knowledge & conclusions from prior sessions
fcontext topic list
fcontext topic show <topic-name>

# Auto-generated project structure overview
cat .fcontext/_workspace.map
```

**How it works**: The agent instructions (generated by `fcontext enable`) teach the agent to:
- Read `_README.md` first to understand the project
- Check `_topics/` for prior session conclusions
- Save important new conclusions to `_topics/` before the session ends
- Update `_README.md` when significant new understanding is gained

### 2. Binary Document Indexing

Convert binary documents to Markdown so any AI agent can read them.

```bash
# Index a single file
fcontext index specs/product-requirements.pdf

# Index all documents in a directory
fcontext index docs/

# Force re-index even if up-to-date
fcontext index docs/ -f

# Check index status
fcontext status
```

Supported formats: PDF, DOCX, XLSX, PPTX, Keynote, EPUB. Converted files are stored in `.fcontext/_cache/`.

### 3. Requirements Management

Track stories, tasks, and bugs with full evolution history.

```bash
# Add requirements
fcontext req add "User authentication via OAuth" -t story
fcontext req add "Support Google provider" -t task --parent STORY-001

# View requirements
fcontext req list                    # List all
fcontext req list --type story       # Filter by type
fcontext req tree                    # Hierarchy view
fcontext req board                   # Kanban board

# Update status
fcontext req set TASK-001 status in-progress
fcontext req set TASK-001 status done

# Link related items
fcontext req link STORY-002 supersedes STORY-001
fcontext req trace STORY-002         # Follow evolution chain

# Add notes
fcontext req comment TASK-001 "OAuth callback implemented"
```

### 4. Experience Packs — Team Knowledge Sharing

Export accumulated domain knowledge and import it into other projects or team members' environments.

```bash
# Export knowledge to a zip file
fcontext export team-knowledge.zip

# Export to a git repository
fcontext export git@github.com:team/domain-knowledge.git

# Import into another project
fcontext experience import team-knowledge.zip
fcontext experience import git@github.com:team/domain-knowledge.git
fcontext experience import https://example.com/knowledge-pack.zip

# List imported packs
fcontext experience list

# Keep packs up-to-date
fcontext experience update
```

Experience packs are read-only once imported, stored under `.fcontext/_experiences/`.

### 5. Multi-Agent Support

Enable multiple agents simultaneously — they all share the same `.fcontext/` data.

```bash
# Enable agents
fcontext enable copilot
fcontext enable claude
fcontext enable cursor

# Check which agents are enabled
fcontext enable list

# Each agent gets instructions in its native format:
# .github/instructions/*.instructions.md  (Copilot)
# .claude/rules/*.md                       (Claude Code)
# .cursor/rules/*.md                       (Cursor)
```

## Common Patterns

- **Session handoff**: Save work log to `_topics/` at the end of a session. Next session reads it and picks up seamlessly.
- **Requirements-driven development**: Record requirements with `fcontext req add` before implementing. Track status through the development lifecycle.
- **Team onboarding**: Export knowledge → new member imports → their AI instantly knows the project's architecture, conventions, and domain concepts.
- **Document-driven projects**: Index all specs, contracts, and reports with `fcontext index`. AI references the Markdown cache instead of asking you to explain documents.
- **Cross-agent workflows**: Use Cursor for frontend and Claude for backend — both read the same `.fcontext/` context.

## Example

**User**: "Continue where we left off yesterday"

```
Claude reads .fcontext/_topics/ → finds yesterday's session log
Claude reads .fcontext/_README.md → understands full project context

Claude: "Yesterday we were debugging the OAuth callback.
You discovered the redirect URI mismatch in the Google provider config.
The fix was applied to auth/providers.py. Tests passed.
Next step from your notes: implement the GitHub provider.
Shall I start on that?"
```

**User**: "Add a requirement for GitHub OAuth and start implementing"

```
Claude runs: fcontext req add "Support GitHub OAuth provider" -t task --parent STORY-001
Claude reads: .fcontext/_cache/oauth-spec.md (indexed from PDF)
Claude implements the feature using full context.
Claude runs: fcontext req set TASK-002 status done
Claude saves conclusions to: .fcontext/_topics/github-oauth-implementation.md
```

## Known Pitfalls

- Always run `fcontext init` before `fcontext enable` — the agent needs `.fcontext/` to exist first.
- Experience packs under `_experiences/` are **read-only**. Never modify imported packs directly.
- Binary document indexing requires the `markitdown` Python package (installed automatically with fcontext).
- The `_README.md` file is AI-maintained — the agent updates it as understanding grows. Don't treat it as a static document.
- Requirements IDs are auto-generated (e.g., `STORY-001`, `TASK-002`). Use `fcontext req list` to find IDs, don't guess.
- `fcontext export` to a git remote will push to the remote. Ensure you have write access.

## Quick Reference

| Action | Command | Key Options |
|--------|---------|-------------|
| Initialize workspace | `fcontext init` | |
| Enable agent | `fcontext enable <agent>` | copilot, claude, cursor, trae, opencode, openclaw |
| Index documents | `fcontext index <path>` | `-f` force re-index |
| Check status | `fcontext status` | |
| Add requirement | `fcontext req add "title" -t TYPE` | story, task, bug, epic, roadmap |
| List requirements | `fcontext req list` | `--type`, `--status` filters |
| View kanban board | `fcontext req board` | |
| Update requirement | `fcontext req set ID field value` | |
| List topics | `fcontext topic list` | |
| Export knowledge | `fcontext export <output>` | zip file or git URL |
| Import experience | `fcontext experience import <source>` | zip, git URL, or download URL |
| Update experiences | `fcontext experience update` | |

---

*By [@lijma](https://github.com/lijma)*
